{% extends "common/base.html" %}
{% load core %}
{# Displays team manager for game tracker app #}

{% block html_body %}
  {% open_box %}
    <h2>Team: <u></u></h2>
    <div class="text-center">
      <a href="{% url 'gametracker:league_editor' league.id %}">League: {{ league.name }}</a> |
      <a href="">View Team</a>
    </div>
  {% close_box %}

  {% open_box %}
    <h2>Add Team</h2>

    <form id="form_add_new" class="form-horizontal" role="form"
      action="{% url 'gametracker:add_team' %}" method="post"
    >{% csrf_token %}
      <div class="form-group">
        <label class="col-sm-3 control-label">Name:</label>
        <div class="col-sm-8">
          <input class="form-control" type="text" id="add_name" name="name">
        </div>

        <label class="col-sm-3 control-label">Long Name:</label>
        <div class="col-sm-8">
          <input class="form-control" type="text" id="add_long" name="long">
        </div>

        <label class="col-sm-3 control-label">Home:</label>
        <div class="col-sm-8">
          <input class="form-control" type="text" id="add_home" name="home">
        </div>

        <input type="hidden" name="league" value="{{ league.id }}">
      </div>
      <button type="submit" class="btn btn-primary pull-right">Add New</button>
    </form>
  {% close_box %}


  {% open_box %}
    <h2>Teams</h2>

    <table class="table table-striped">
      <tr>
        <th>Name</th>
        <th>URL</th>
      </tr>
      {% for team in teams %}
      <tr>
        <td>{{ team.longName }}</td>
        <td>{{ team.edit_link | safe }} | {{ team.view_link | safe }}</td>
      </tr>
      {% endfor %}
    </table>
  {% close_box %}
{% endblock %}
